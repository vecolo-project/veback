<div class="grid md:grid-cols-2 grid-cols-1 gap-4">
  <mat-card>
    <mat-card-header>
      <ng-lottie mat-card-avatar [options]="lottieStationOptions"></ng-lottie>
      <mat-card-title>Station {{station?.id}}
        - {{station?.streetNumber}} {{station?.streetName}} {{station?.city.toUpperCase()}} ({{station?.zipcode}})
      </mat-card-title>
      <mat-card-subtitle>État : {{getLastMonitoring()?.status.toUpperCase()}}</mat-card-subtitle>
    </mat-card-header>
    <mat-card-content class="space-y-4">

      <section class="battery-section">
        <mat-progress-bar
          [ngClass]="getProgressColorClass()"
          [mode]="'buffer'"
          [value]="getLastMonitoring()?.batteryPercent"
        ></mat-progress-bar>
        <div style="position: absolute; padding: 10px; color: white;">
          {{getLastMonitoring()?.batteryPercent.toFixed(2)}}%
        </div>
      </section>
      <div class="text-lg">Puissance de Charge : {{getLastMonitoring()?.chargingPower}} VA</div>
      <div class="text-lg">
        Vélos disponibles : {{getLastMonitoring()?.usedBikeSlot}}/{{station?.bikeCapacity}}
      </div>

    </mat-card-content>
  </mat-card>
  <mat-card class="col-span-2">
    <mat-card-header>
      <mat-icon mat-card-avatar>battery_std</mat-icon>
      <mat-card-title>
        Statut de la borne
      </mat-card-title>
      <mat-card-subtitle>
        <mat-form-field>
          <input type="number" matInput value="3" min="0" (change)="retrieveMonitoring($event.target.value)">
          <mat-hint>Nombre de jours</mat-hint>
        </mat-form-field>
      </mat-card-subtitle>
    </mat-card-header>
    <app-station-battery-chart [stationMonitorings]="stationMonitorings"></app-station-battery-chart>
  </mat-card>
</div>
