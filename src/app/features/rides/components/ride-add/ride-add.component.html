<mat-card>
  <mat-card-header>
    <mat-card-title>Ajouter une station</mat-card-title>
  </mat-card-header>
  <mat-card-content class="grid grid-cols-1 lg:grid-cols-2 gap-2">
    <ng-lottie [options]="lottieBikeOptions" height="600px"></ng-lottie>
    <form [formGroup]="rideForm">
      <mat-form-field class="w-full" appearance="outline">
        <mat-label>Date</mat-label>
        <input matInput [ngxMatDatetimePicker]="picker" formControlName="DATE">
        <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
        <ngx-mat-datetime-picker #picker></ngx-mat-datetime-picker>
      </mat-form-field>
      <mat-form-field class="w-full" appearance="outline">
        <mat-label>Durée du trajet (min)</mat-label>
        <input matInput
               min="0"
               step="1"
               formControlName="DURATION"
               type="number">
      </mat-form-field>
      <mat-form-field class="w-full" appearance="outline">
        <mat-label>Longueur du trajet (mètres)</mat-label>
        <input matInput
               min="0"
               step="1"
               formControlName="LENGTH"
               type="number">
      </mat-form-field>
      <mat-form-field class="w-full" appearance="outline">
        <mat-label>Prix du trajet (€)</mat-label>
        <input matInput
               min="0"
               step="0.01"
               formControlName="INVOICE_AMOUNT"
               type="number">
      </mat-form-field>
      <div class="flex flex-col gap-4">
        <div class="flex flex-col">
          <app-user-search (searchEvent)="onUserSearch()" (userSelectEvent)="onUserSelect($event)"></app-user-search>
        </div>
        <div class="flex flex-col">
          <app-bike-search (searchEvent)="onBikeSearch()" (bikeSelectEvent)="onBikeSelect($event)"></app-bike-search>
        </div>
        <div class="flex flex-col">
          <app-station-search [label]="'Station de départ'"
            (searchEvent)="onStartStationSearch()"
                              (stationSelectEvent)="onStartStationSelect($event)"></app-station-search>
        </div>
        <div class="flex flex-col">
          <app-station-search [label]="'Station d\'arrivée'"
            (searchEvent)="onEndStationSearch()"
                              (stationSelectEvent)="onEndStationSelect($event)"></app-station-search>
        </div>
      </div>
    </form>
  </mat-card-content>
  <mat-card-actions class="flex justify-end">
    <button
      [disabled]="rideForm.invalid"
      (click)="onSubmit()"
      mat-raised-button
      color="primary">Ajouter un trajet
    </button>
  </mat-card-actions>
</mat-card>
